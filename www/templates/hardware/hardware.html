<ion-view title="{{navTitle}}">

  <ion-content padding="true" class="color-assertive" hide-back-button="true">

    <!-- {{hwState}} -->

    <md-grid-list md-cols-sm="2" md-cols-gt-sm="6" md-row-height-gt-md="1:1" md-row-height="2:2" md-gutter="24px" md-gutter-gt-sm="12px" >

        <md-grid-tile class="gray" md-rowspan="1" md-colspan="1" md-colspan-sm="2" ng-click="updateStatus()" style="background: url(/img/cbt-outline-white.svg) center center no-repeat; background-size:contain; color:white; font-size:150%; text-align:center;">
          <p ng-if="hwState.version.name" style="line-height:1.1em; margin-bottom:0; padding:0 0.6em;">{{ hwState.version.name }}<br>{{ hwState.version.version }}</p>
          <md-progress-circular ng-if="!hwState.version.name && hardwareConnected" class="md-accent" md-mode="indeterminate"></md-progress-circular>
          <p ng-if="!hwState.version.name && !hardwareConnected"><b>Not Connected</b></p>
        </md-grid-tile>

        <md-grid-tile class="md-whiteframe-z2" md-rowspan="3" md-colspan="3" md-colspan-sm="2">
          <ui-view name="pane" animation="slide-left-right-ios7"></ui-view>
        </md-grid-tile>

        <md-grid-tile class="md-whiteframe-z2" md-rowspan="1" md-colspan="2" md-colspan-sm="2">
          <md-grid-tile-header>
            <h3>CAN Bus 1</h3>
          </md-grid-tile-header>

          <ul>
            <li><b>CANCTRL:</b> {{ hwState.busdbg['Bus 1'].canctrl }}</li>
            <li><b>Status:</b> {{ hwState.busdbg['Bus 1'].status }}</li>
            <li><b>Error:</b> {{ hwState.busdbg['Bus 1'].error }}</li>
          </ul>

          <md-select placeholder="Bus Speed Unknown" ng-model="bus1speed" ng-change="setRate(1, bus1speed)">
            <md-option ng-repeat="speed in speeds" value="{{$index}}">{{speed}} {{$last?'':'kbps'}}</md-option>
          </md-select>

        </md-grid-tile>

        <md-grid-tile class="md-whiteframe-z2" md-rowspan="1" md-colspan="2" md-colspan-sm="2">
          <md-grid-tile-header>
            <h3>CAN Bus 2</h3>
          </md-grid-tile-header>

          <ul>
            <li><b>CANCTRL:</b> {{ hwState.busdbg['Bus 2'].canctrl }}</li>
            <li><b>Status:</b> {{ hwState.busdbg['Bus 2'].status }}</li>
            <li><b>Error:</b> {{ hwState.busdbg['Bus 2'].error }}</li>
          </ul>

          <md-select placeholder="Bus Speed Unknown" ng-model="bus2speed" ng-change="setRate(2, bus2speed)">
            <md-option ng-repeat="speed in speeds" value="{{$index}}">{{speed}} kbps</md-option>
          </md-select>

        </md-grid-tile>

        <md-grid-tile class="md-whiteframe-z2" md-rowspan="1" md-colspan="2">
          <md-grid-tile-header>
            <h3>CAN Bus 3</h3>
          </md-grid-tile-header>

          <ul>
            <li><b>CANCTRL:</b> {{ hwState.busdbg['Bus 3'].canctrl }}</li>
            <li><b>Status:</b> {{ hwState.busdbg['Bus 3'].status }}</li>
            <li><b>Error:</b> {{ hwState.busdbg['Bus 3'].error }}</li>
          </ul>

          <md-select placeholder="Bus Speed Unknown" ng-model="bus3speed" ng-change="setRate(3, bus3speed)">
            <md-option ng-repeat="speed in speeds" value="{{$index}}">{{speed}} kbps</md-option>
          </md-select>

        </md-grid-tile>

  </md-grid-list>

  </ion-content>

</ion-view>
